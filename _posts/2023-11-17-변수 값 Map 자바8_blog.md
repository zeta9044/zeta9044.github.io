---
layout: post
title: "변수 값 Map 자바8"
date: 2023-11-17
tags: [값, Map, 자바, 변수]
categories: blog
---

## 사용자 입력:
> User
자바8의 Map 변수에서 value값이 있는 변수로 변환

## ChatGPT 응답:
> 자바 8에서 `Map` 변수의 값을 다른 변수로 변환하는 작업은 `Map` 인터페이스와 Java 8의 새로운 기능들을 활용하여 수행할 수 있습니다. 예를 들어, `Map`의 각 항목에 대해 특정 작업을 수행하고 결과를 새로운 변수에 저장하려면 다음과 같은 방법을 사용할 수 있습니다.

1. **forEach 메소드 사용**: `Map`의 `forEach` 메소드를 사용하여 각 항목에 대해 작업을 수행할 수 있습니다. 이 메소드는 각 키-값 쌍에 대해 람다 표현식을 실행합니다.

2. **Stream API 사용**: `Map`의 `entrySet()` 또는 `values()` 메소드를 사용하여 스트림을 생성하고, 이 스트림에 대해 다양한 연산을 적용할 수 있습니다.

예를 들어, `Map<String, Integer>`에서 각 값에 10을 더한 결과를 새로운 `List<Integer>`로 변환하는 예제는 다음과 같습니다:

```java
import java.util.Map;
import java.util.HashMap;
import java.util.List;
import java.util.stream.Collectors;

public class MapExample {
    public static void main(String[] args) {
        Map<String, Integer> map = new HashMap<>();
        map.put("a", 1);
        map.put("b", 2);
        map.put("c", 3);

        List<Integer> resultList = map.values().stream()
                                      .map(value -> value + 10)
                                      .collect(Collectors.toList());

        System.out.println(resultList);
    }
}
```

이 예제에서 `map.values().stream()`은 `Map`의 모든 값을 스트림으로 변환하고, `map()` 메소드를 통해 각 값에 10을 더한 후, `collect()` 메소드를 사용하여 결과를 `List<Integer>`로 수집합니다.

이러한 방법을 사용하여 `Map`의 값들을 다양한 형태의 변수로 변환할 수 있습니다.

## 사용자 입력:
> 잘못 이해시켰다.  value가 null이거나 empty인 원소는 제외시키고 각 요소를 화면에 출력

## ChatGPT 응답:
> 아, 이해했습니다. 자바 8에서 `Map`의 각 요소 중 `value`가 `null`이거나 비어 있는 경우를 제외하고 남은 요소들을 화면에 출력하는 작업은 다음과 같이 수행할 수 있습니다.

1. **Stream API 사용**: `Map`의 `entrySet()` 메소드를 사용해 스트림을 생성하고, `filter()` 메소드로 `null`이거나 빈 `value`를 가진 요소들을 제외시킨 후, 각 요소를 출력합니다.

2. **forEach 메소드와 조건문 사용**: `Map`의 `forEach` 메소드를 사용하고, 람다 표현식 내에서 `null`이거나 빈 `value`를 체크한 후 해당하지 않는 요소들만 출력합니다.

예를 들어, `Map<String, String>`에서 `null`이거나 빈 문자열인 `value`를 가진 요소를 제외하고 출력하는 예제는 다음과 같습니다:

```java
import java.util.Map;
import java.util.HashMap;

public class MapExample {
    public static void main(String[] args) {
        Map<String, String> map = new HashMap<>();
        map.put("key1", "value1");
        map.put("key2", null);
        map.put("key3", "value3");
        map.put("key4", "");

        map.entrySet().stream()
           .filter(entry -> entry.getValue() != null && !entry.getValue().isEmpty())
           .forEach(entry -> System.out.println(entry.getKey() + ": " + entry.getValue()));
    }
}
```

이 코드에서 `filter()` 메소드는 `value`가 `null`이 아니고 비어 있지 않은 요소들만 걸러냅니다. 그 후 `forEach()` 메소드를 통해 각 요소를 화면에 출력합니다. 이 방법을 통해 `Map`에서 특정 조건을 만족하는 요소들만 골라내어 처리할 수 있습니다.

## 사용자 입력:
> Map<String, Object> map 일때는?

## ChatGPT 응답:
> `Map<String, Object>` 타입의 맵을 처리할 때도 유사한 방법을 사용할 수 있습니다. `Object` 타입의 값이 `null`이거나, `String`이고 빈 문자열인 경우를 필터링하여 제외시키고, 나머지 요소들을 화면에 출력하는 것이 목표입니다.

`Object` 타입의 값은 여러 타입을 가질 수 있으므로, 먼저 `Object`가 `String` 타입인지 확인하고, 그 후에 빈 문자열인지 확인하는 추가적인 조건을 포함해야 합니다.

다음은 이러한 조건을 만족하는 `Map<String, Object>`에서 값을 필터링하고 출력하는 예제 코드입니다:

```java
import java.util.Map;
import java.util.HashMap;

public class MapExample {
    public static void main(String[] args) {
        Map<String, Object> map = new HashMap<>();
        map.put("key1", "value1");
        map.put("key2", null);
        map.put("key3", 123); // Non-string object
        map.put("key4", "value4");
        map.put("key5", ""); // Empty String

        map.entrySet().stream()
           .filter(entry -> entry.getValue() != null &&
                            !(entry.getValue() instanceof String && ((String) entry.getValue()).isEmpty()))
           .forEach(entry -> System.out.println(entry.getKey() + ": " + entry.getValue()));
    }
}
```

이 코드에서 `filter()` 메소드는 다음 두 조건을 확인합니다:
1. `entry.getValue() != null`은 값이 `null`이 아닌지 확인합니다.
2. `!(entry.getValue() instanceof String && ((String) entry.getValue()).isEmpty())`는 값이 `String` 타입이고 빈 문자열인 경우를 제외시킵니다.

이 필터링을 통해 `null` 값이거나 빈 문자열인 `String`을 제외한 모든 요소들이 `forEach` 문에서 처리되어 화면에 출력됩니다.

## 사용자 입력:
> 그러면, 문자열여부는 비교할 필요없고, 0인 요소만 제외.

## ChatGPT 응답:
> `Map<String, Object>` 타입의 맵에서 `0`인 요소만 제외하고 나머지 요소들을 출력하는 경우, `Object` 타입의 값이 정확히 `0`인지 확인하는 조건을 사용할 수 있습니다. `Object`가 `Integer` 타입의 `0`, `Double` 타입의 `0.0`, `Float` 타입의 `0.0f` 등 숫자 타입의 `0`인 경우를 고려해야 합니다.

다음은 숫자 타입의 `0` 값을 제외하고 나머지 값을 출력하는 예제 코드입니다:

```java
import java.util.Map;
import java.util.HashMap;

public class MapExample {
    public static void main(String[] args) {
        Map<String, Object> map = new HashMap<>();
        map.put("key1", "value1");
        map.put("key2", 0);
        map.put("key3", 123);
        map.put("key4", 0.0); // Double 0.0
        map.put("key5", "value5");
        map.put("key6", 0.0f); // Float 0.0

        map.entrySet().stream()
           .filter(entry -> !(entry.getValue() instanceof Number && ((Number) entry.getValue()).doubleValue() == 0))
           .forEach(entry -> System.out.println(entry.getKey() + ": " + entry.getValue()));
    }
}
```

이 코드에서 `filter()` 메소드는 다음 조건을 확인합니다:
- `!(entry.getValue() instanceof Number && ((Number) entry.getValue()).doubleValue() == 0)`: 값이 `Number` 타입의 인스턴스이고, 그 값이 `0`인지 확인합니다. `doubleValue()` 메소드를 사용하여 `Integer`, `Double`, `Float` 등 모든 숫자 타입을 `double` 타입으로 변환하여 비교합니다.

이 필터링을 통해 모든 숫자 타입의 `0` 값을 제외한 나머지 모든 요소들이 화면에 출력됩니다.

